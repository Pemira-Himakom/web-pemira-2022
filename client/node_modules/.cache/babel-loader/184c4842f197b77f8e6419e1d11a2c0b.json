{"ast":null,"code":"import { linear } from './index.mjs';\nconst a = (a1, a2) => 1.0 - 3.0 * a2 + 3.0 * a1;\nconst b = (a1, a2) => 3.0 * a2 - 6.0 * a1;\nconst c = a1 => 3.0 * a1;\nconst calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\nconst getSlope = (t, a1, a2) => 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  let currentX;\n  let currentT;\n  let i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > subdivisionPrecision && ++i < subdivisionMaxIterations);\n  return currentT;\n}\nconst newtonIterations = 8;\nconst newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (let i = 0; i < newtonIterations; ++i) {\n    const currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\nconst kSplineTableSize = 11;\nconst kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  if (mX1 === mY1 && mX2 === mY2) return linear;\n  const sampleValues = new Float32Array(kSplineTableSize);\n  for (let i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n  function getTForX(aX) {\n    let intervalStart = 0.0;\n    let currentSample = 1;\n    const lastSample = kSplineTableSize - 1;\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    const dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    const guessForT = intervalStart + dist * kSampleStepSize;\n    const initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= newtonMinSlope) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n  return t => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\nexport { cubicBezier };","map":{"version":3,"names":["linear","a","a1","a2","b","c","calcBezier","t","getSlope","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","Math","abs","newtonIterations","newtonMinSlope","newtonRaphsonIterate","aGuessT","currentSlope","kSplineTableSize","kSampleStepSize","cubicBezier","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope"],"sources":["/Users/josiahfarrelsuwito/pemira/web-pemira-2022/client/node_modules/popmotion/dist/es/easing/cubic-bezier.mjs"],"sourcesContent":["import { linear } from './index.mjs';\n\nconst a = (a1, a2) => 1.0 - 3.0 * a2 + 3.0 * a1;\nconst b = (a1, a2) => 3.0 * a2 - 6.0 * a1;\nconst c = (a1) => 3.0 * a1;\nconst calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\nconst getSlope = (t, a1, a2) => 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nconst newtonIterations = 8;\nconst newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (let i = 0; i < newtonIterations; ++i) {\n        const currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nconst kSplineTableSize = 11;\nconst kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    const sampleValues = new Float32Array(kSplineTableSize);\n    for (let i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        let intervalStart = 0.0;\n        let currentSample = 1;\n        const lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        const dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        const guessForT = intervalStart + dist * kSampleStepSize;\n        const initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}